(window.webpackJsonp=window.webpackJsonp||[]).push([[46],{443:function(t,e,n){"use strict";n.r(e);var a=n(56),s=Object(a.a)({},(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[n("h2",{attrs:{id:"相关网站资源"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#相关网站资源"}},[t._v("#")]),t._v(" 相关网站资源")]),t._v(" "),n("p",[t._v("python官网：https://www.python.org/")]),t._v(" "),n("p",[t._v("python官网文档："),n("a",{attrs:{href:"https://docs.python.org/zh-cn/3/tutorial/index.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("Python 教程 — Python 3.10.4 文档"),n("OutboundLink")],1)]),t._v(" "),n("p",[t._v("Python学习论坛： "),n("a",{attrs:{href:"https://www.python-china.com/",target:"_blank",rel:"noopener noreferrer"}},[t._v("Python中文网-Python爱好者学习网站"),n("OutboundLink")],1)]),t._v(" "),n("h2",{attrs:{id:"window安装python"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#window安装python"}},[t._v("#")]),t._v(" window安装python")]),t._v(" "),n("h3",{attrs:{id:"window版本exe安装"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#window版本exe安装"}},[t._v("#")]),t._v(" window版本exe安装")]),t._v(" "),n("div",{staticClass:"language- extra-class"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[t._v("1. https://www.python.org/ftp/python/3.10.4/python-3.10.4-amd64.exe  下载安装包\n2，安装即可\n")])])]),n("h3",{attrs:{id:"window版本zip便携版安装"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#window版本zip便携版安装"}},[t._v("#")]),t._v(" window版本zip便携版安装")]),t._v(" "),n("blockquote",[n("p",[t._v("不是所有版本的python官网都提供了zip文件，下面以3.8.5为例")])]),t._v(" "),n("ol",[n("li",[n("p",[t._v("下载python")]),t._v(" "),n("div",{staticClass:"language- extra-class"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[t._v('1) 官网https://www.python.org/downloads/release/python-385/找到"Windows x86-64 embeddable zip file"版本\n\t下载zip压缩包：https://www.python.org/ftp/python/3.8.5/python-3.8.5-embed-amd64.zip\n\t\n2) 添加path路径到环境变量中\n')])])])]),t._v(" "),n("li",[n("p",[t._v("安装pip")]),t._v(" "),n("div",{staticClass:"language- extra-class"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[t._v("1. 网页https://pypi.org/project/pip/，点击【Project description/Installation】\n\n2. 跳转到[Supported Methods/get-pip.py]目录下，有下载连链接\n\t1) curl https://bootstrap.pypa.io/get-pip.py -o get-pip.py\n\t2) python get-pip.py\t执行完成python根目录会自动创建Lib和Scripts文件夹\n\n3. python根目录找到python38._pth文件，使用记事本打开，去掉 “import site”前面的 # 号\n")])])])]),t._v(" "),n("li",[n("p",[t._v("测试")]),t._v(" "),n("div",{staticClass:"language- extra-class"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[t._v("python -V      查看python版本号\n\npip -V            查看pip管理工具的版本号\n")])])])])]),t._v(" "),n("h2",{attrs:{id:"linux安装python"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#linux安装python"}},[t._v("#")]),t._v(" linux安装python")]),t._v(" "),n("p",[n("strong",[t._v("卸载原python环境")])]),t._v(" "),n("div",{staticClass:"language- extra-class"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[t._v("rpm -qa|grep python|xargs rpm -ev --allmatches --nodeps\nwhereis python |xargs rm -frv\nwhereis python\n")])])]),n("h3",{attrs:{id:"源码安装"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#源码安装"}},[t._v("#")]),t._v(" 源码安装")]),t._v(" "),n("ol",[n("li",[n("p",[t._v("https://www.python.org/ftp/python/3.10.4/Python-3.10.4.tgz下载安装包")])]),t._v(" "),n("li",[n("p",[t._v("安装环境准备")]),t._v(" "),n("div",{staticClass:"language- extra-class"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[t._v("#首先需要gcc环境和zlib库，为了方向键等不出现乱码还需要 readline-devel 包\n\nyum -y install gcc make openssl-devel sqlite-devel\t\t#django时会用到sqlite-devel\n\t#openssl-devel好像没什么用，yum安装的版本比较低，需要在后面使用源码安装\nyum -y install zlib*\nyum install readline-devel\n")])])]),n("p",[t._v("另：下面的可选安装包供参考")]),t._v(" "),n("div",{staticClass:"language- extra-class"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[t._v("yum install gcc patch libffi-devel python-devel  zlib-devel bzip2-devel openssl-devel ncurses-devel sqlite-devel readline-devel tk-devel gdbm-devel db4-devel libpcap-devel xz-devel -y\n")])])])]),t._v(" "),n("li",[n("p",[t._v("解压、配置、安装")]),t._v(" "),n("div",{staticClass:"language- extra-class"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[t._v("tar zxf Python-3.10.4.tgz && cd Python-3.10.4\n\n./configure --prefix=/usr/local/Python-3.10.4  --with-openssl=/usr/bin/openssl（这个应该要指向文件夹吧）\n\t#注意--with-openssl可能会因为openssl的版本较低会提示TLS/SSL不可用，解决方法见下面记录\n\nmake -j 4 ; make install\n")])])])]),t._v(" "),n("li",[n("p",[t._v("添加path路径或软连接")]),t._v(" "),n("blockquote",[n("p",[t._v("如果不添加path路径，也可以使用ln -s /usr/local/python_3.10.4/bin/python3.10  /usr/bin/python3")])]),t._v(" "),n("div",{staticClass:"language- extra-class"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[t._v("cat  /etc/profile.d/python310.sh\nexport PATH=$PATH:/usr/local/Python-3.10.4/bin\n")])])])])]),t._v(" "),n("p",[n("strong",[t._v("安装中遇见的问题汇总：")])]),t._v(" "),n("p",[n("strong",[t._v("问题一：pip list 时提示openssl不可用")])]),t._v(" "),n("blockquote",[n("p",[t._v("参考文档：")]),t._v(" "),n("p",[t._v("https://blog.csdn.net/lkgCSDN/article/details/84403329")]),t._v(" "),n("p",[t._v("https://www.jianshu.com/p/8e476eef43f7")])]),t._v(" "),n("ul",[n("li",[n("p",[t._v("问题现象： 如果./configure的时候不指定--with-openssl，安装后使用pip会提示如下信息")]),t._v(" "),n("div",{staticClass:"language- extra-class"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[t._v("WARNING: pip is configured with locations that require TLS/SSL, however the ssl module in Python is not available.\n")])])])]),t._v(" "),n("li",[n("p",[t._v("源码安装openssl")]),t._v(" "),n("div",{staticClass:"language- extra-class"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[t._v("-  wget https://www.openssl.org/source/openssl-1.1.1n.tar.gz\t\t#openssl-3.0.2.tar.gz包测试过有问题\n\n-  cd openssl-1.1.1n  &&./config --prefix=/usr/local/openssl-1.1.1n [no-zlib]  #执行时提示：You need Perl 5\n\n- 安装perl 5 (可以直接yum install perl更方便些)\t\t\t#参考文档:https://www.cpan.org/src/\n\twget https://www.cpan.org/src/5.0/perl-5.34.1.tar.gz\n\ttar -xzf perl-5.34.1.tar.gz  &&  cd perl-5.34.1\n\t./Configure -des -Dprefix=$HOME/localperl\t\t\n\t\t#会在/root/localperl/下生成bin、lib、man三个文件夹\n\t\t#不太清楚Dprefix这个文件夹能否修改，编译完成后可执行文件在/usr/bin/perl（应该是程序自动将可执行文件拷贝过去了）\n\tmake\n\tmake test\t\t\t（这一步会执行很长时间，可以跳过）\n\tmake install\n\n- 继续安装openssl...\n\t./config --prefix=/usr/local/openssl-1.1.1n  [no-zlib]\n\tmake && make install\n")])])])]),t._v(" "),n("li",[n("p",[t._v("使用源码再次安装python（指定使用新版本的openssl）")]),t._v(" "),n("div",{staticClass:"language- extra-class"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[t._v("./configure --prefix=/usr/local/python_3.10_openssl_make/ --with-openssl=/usr/local/openssl-1.1.1n\n\t#注意--with-openssl指定的是目录，而不是/usr/local/openssl-1.1.1n/bin/openssl的可执行文件（可执行文件是不行的）\n\nmake -j 4 ; make install\n")])])])]),t._v(" "),n("li",[n("p",[t._v("测试")]),t._v(" "),n("div",{staticClass:"language- extra-class"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[t._v("cd /usr/local/python_3.10_openssl_make/bin\n\n./pip3 list  已经没有提示信息了\n")])])])])]),t._v(" "),n("p",[n("strong",[t._v("问题二：centos7下 python升级后yum异常")])]),t._v(" "),n("ul",[n("li",[n("p",[t._v("centos7自带的python版本是2.7，安装python3后，软连接"),n("code",[t._v("/usr/bin/python")]),t._v("指向的版本是python3，yum使用可能会有问题，需要修改下yum的配置：")]),t._v(" "),n("div",{staticClass:"language- extra-class"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[t._v("vi /usr/bin/yum\nvi /usr/libexec/urlgrabber-ext-down\n在第一行#!/usr/bin/python把修改为#!/usr/bin/python2.7\n")])])])])]),t._v(" "),n("h3",{attrs:{id:"便携式安装"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#便携式安装"}},[t._v("#")]),t._v(" 便携式安装")]),t._v(" "),n("p",[t._v("将源码编译后的文件夹拷贝后到其他主机上，应该就可以直接使用了")]),t._v(" "),n("h3",{attrs:{id:"yum安装"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#yum安装"}},[t._v("#")]),t._v(" yum安装")]),t._v(" "),n("p",[t._v("配置centos的yum源：https://developer.aliyun.com/mirror/")]),t._v(" "),n("div",{staticClass:"language- extra-class"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[t._v("yum install python39\n\t#yum install python 会提示可选版本为：python2, python36, python38, python39\n\t#直接yum安装也不会有TLS/SSL的问题\n")])])]),n("h2",{attrs:{id:"创建虚拟环境"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#创建虚拟环境"}},[t._v("#")]),t._v(" 创建虚拟环境")]),t._v(" "),n("h3",{attrs:{id:"venv创建"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#venv创建"}},[t._v("#")]),t._v(" venv创建")]),t._v(" "),n("p",[n("strong",[t._v("window")])]),t._v(" "),n("div",{staticClass:"language- extra-class"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[t._v("python3 -m venv /path/to/new/virtual/environment\n\n${virtual_env}/scripts/activate.bat            #运行虚拟环境\n\n#参考文档：https://docs.python.org/zh-cn/3/library/venv.html\n")])])]),n("p",[n("strong",[t._v("linux")])]),t._v(" "),n("div",{staticClass:"language- extra-class"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[t._v("python3 -m venv /path/to/new/virtual/environment\t\t#创建虚拟环境\n\nsource ${virtual_env}/bin/activate\t\t\t\t\t#进入虚拟环境\n\ndeactivate\t\t\t\t\t\t\t\t\t\t\t#退出虚拟环境（没有看到这个文件，但是可以使用）\n")])])]),n("h3",{attrs:{id:"virtualenv创建"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#virtualenv创建"}},[t._v("#")]),t._v(" virtualenv创建")]),t._v(" "),n("p",[n("strong",[t._v("window")])]),t._v(" "),n("div",{staticClass:"language- extra-class"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[t._v("1. 将python3.8.6的的路径及根路径下的Scripts加入全局环境变量\n2. pip install virtualenv （将会安装在python的scripts文件夹中，在linux版本中为python的bin目录）\n3. virtualenv django_test_env\n4. 进入/退出虚拟环境：\n    django_test_env/activate.bat        #进入虚拟环境\n    django_test_env/deactivate.bat        #退出虚拟环境\n5. 安装django\n    pip install django==2.2            （安装在虚拟环境的scripts目录中，linux版本中为python的bin目录下）\n    django-admin startproject test (只要activate.bat后在虚拟环境任意目录都能找到django-admin命令)\n    #踩过的坑：此时将虚拟环境的目录名django_test_env修改为django_test，之后activate.bat就找不到django-admin的文件路径了。影响：在任意目录下创建project就受到影响了。\n")])])]),n("h2",{attrs:{id:"python3-8-6额外修改部分"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#python3-8-6额外修改部分"}},[t._v("#")]),t._v(" python3.8.6额外修改部分：")]),t._v(" "),n("p",[n("strong",[t._v("window版本")])]),t._v(" "),n("div",{staticClass:"language- extra-class"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[t._v("1. 将原python根目录下的python38.zip文件拷贝到虚拟环境的django_test/scripts下\n\n2. 修改django_test_env\\lib\\site-packages\\django\\views\\debug.py 的line 331\n    with Path(CURRENT_DIR, 'templates', 'technical_500.html').open(encoding=\"utf-8\") as fh:\n                t = DEBUG_ENGINE.from_string(fh.read())\n\n3. 修改django_test_env\\lib\\site-packages\\django\\db\\backends\\mysql\\operations.py\", line 146\n    query = getattr(cursor, '_executed', None)\n    #if query is not None:\n    #    query = query.decode(errors='replace')\n    return query\n\n4, 安装PyMySQL\n    - pip install PyMySQL\n    - 修改mysite/__init__.py:\n        import pymysql\n        pymysql.install_as_MySQLdb()\n")])])])])}),[],!1,null,null,null);e.default=s.exports}}]);